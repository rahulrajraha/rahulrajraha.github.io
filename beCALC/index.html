<!DOCTYPE html>
<html>
	<head>
		<meta charset='utf-8'>
		<meta http-equiv='X-UA-Compatible'>
		<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=no'>
		<title>beCALC</title>
		<meta name='description' content="beCALC">
		<meta name='author' content='RRR'>		
		<meta name='apple-mobile-web-app-capable' content='yes'>
		<meta name='mobile-web-app-capable' content='yes'>
		<link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
		<style>
		    body {font-family:'Open Sans', sans-serif;}
		    @media screen and (max-width: 430px) {#app {width: 100%;  text-align:center;margin: 0 auto;}}
			@media screen and (min-width: 431px) {#app {width: 430px; text-align:center;margin: 0 auto;}}
            .tab {overflow: hidden; border: 1px solid #540b0e; background-color: #f77f00;}
            .tab button {background-color: inherit; float: left; border: none; outline: none; padding: 8px 10px; font-family:'Open Sans', sans-serif;}
            .tab button:hover {background-color: #ffb703;}
            .tab button.active {background-color: #540b0e; color: #ffffff;}
            .tabcontent {display: none; padding: 3px 3px; border: 1px solid #540b0e; border-top: none;}
			input[type=number]{width: 80px; font-family:'Open Sans', sans-serif; font-size: 13px; background-color:#d9ed92; font-weight: bold;}
			input::-webkit-outer-spin-button, input::-webkit-inner-spin-button {-webkit-appearance: none;margin: 0;}
			input[type=number] {-moz-appearance: textfield;}
			input[type=number]:disabled {background-color:#f9c74f; }
			td {font-size: 11px; font-weight: bold;}
			table, th, td {border: 1px solid black; border-collapse: collapse;}
		</style>
	</head>
	<body>
		<div id='app'>
		
		    <div class="tab">
			    <button class="tablinks" onclick="openTab(event, 'Cash')">Cash</button>
                <button id='marginTab' class="tablinks" onclick="openTab(event, 'Margin')">Margin</button>
                <button class="tablinks" onclick="openTab(event, 'SFuture')">StockFUT</button>
                <button class="tablinks" onclick="openTab(event, 'CFuture')">CommodityFUT</button>
            </div>			
			
			<div id="Cash" class="tabcontent">
               <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>CASH BUY TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Buy Price</td>
				  <td>Break Even</td>
				  <td>Sell Price</td>
				</tr>
			    <tr>
				  <td><input id="cbQ" type="number" onchange="calcMBCBSFB('cb', 'cs')"></td>
				  <td><input id="cbBP" type="number" onchange="calcMBCBSFB('cb', 'cs')"></td>
				  <td><input id="cbBE" type="number" disabled></td>
				  <td><input id="cbSP" type="number" onchange="calcMBCBSFB('cb', 'cs')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="cbINV" type="number" disabled></td>
				  <td><input id="cbPL" type="number" disabled></td>
				  <td><input id="cbTRN" type="number" disabled></td>
				  <td><input id="cbROR" type="number" disabled></td>
				</tr>
			   </table>
            </div>
			
            <div id="Margin" class="tabcontent">
               <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>MARGIN BUY TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Buy Price</td>
				  <td>Break Even</td>
				  <td>Sell Price</td>
				</tr>
			    <tr>
				  <td><input id="mbQ" type="number" onchange="calcMBCBSFB('mb', 'ms')"></td>
				  <td><input id="mbBP" type="number" onchange="calcMBCBSFB('mb', 'ms')"></td>
				  <td><input id="mbBE" type="number" disabled></td>
				  <td><input id="mbSP" type="number" onchange="calcMBCBSFB('mb', 'ms')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="mbINV" type="number" disabled></td>
				  <td><input id="mbPL" type="number" disabled></td>
				  <td><input id="mbTRN" type="number" disabled></td>
				  <td><input id="mbROR" type="number" disabled></td>
				</tr>
			   </table>
			   <hr>
			   <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>MARGIN SELL TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Sell Price</td>
				  <td>Break Even</td>
				  <td>Buy Price</td>
				</tr>
			    <tr>
				  <td><input id="msQ" type="number" onchange="calcMSSFS('ms', 'mb')"></td>
				  <td><input id="msSP" type="number" onchange="calcMSSFS('ms', 'mb')"></td>
				  <td><input id="msBE" type="number" disabled></td>
				  <td><input id="msBP" type="number" onchange="calcMSSFS('ms', 'mb')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="msINV" type="number" disabled></td>
				  <td><input id="msPL" type="number" disabled></td>
				  <td><input id="msTRN" type="number" disabled></td>
				  <td><input id="msROR" type="number" disabled></td>
				</tr>
			   </table>
            </div>
            
			<div id="SFuture" class="tabcontent">
                <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>STOCK FUTURES BUY TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Buy Price</td>
				  <td>Break Even</td>
				  <td>Sell Price</td>
				</tr>
			    <tr>
				  <td><input id="sfbQ" type="number" onchange="calcMBCBSFB('sfb', 'sfs')"></td>
				  <td><input id="sfbBP" type="number" onchange="calcMBCBSFB('sfb', 'sfs')"></td>
				  <td><input id="sfbBE" type="number" disabled></td>
				  <td><input id="sfbSP" type="number" onchange="calcMBCBSFB('sfb', 'sfs')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="sfbINV" type="number" disabled></td>
				  <td><input id="sfbPL" type="number" disabled></td>
				  <td><input id="sfbTRN" type="number" disabled></td>
				  <td><input id="sfbROR" type="number" disabled></td>
				</tr>
			   </table>
			   <hr>
			   <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>STOCK FUTURES SELL TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Sell Price</td>
				  <td>Break Even</td>
				  <td>Buy Price</td>
				</tr>
			    <tr>
				  <td><input id="sfsQ" type="number" onchange="calcMSSFS('sfs', 'sfb')"></td>
				  <td><input id="sfsSP" type="number" onchange="calcMSSFS('sfs', 'sfb')"></td>
				  <td><input id="sfsBE" type="number" disabled></td>
				  <td><input id="sfsBP" type="number" onchange="calcMSSFS('sfs', 'sfb')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="sfsINV" type="number" disabled></td>
				  <td><input id="sfsPL" type="number" disabled></td>
				  <td><input id="sfsTRN" type="number" disabled></td>
				  <td><input id="sfsROR" type="number" disabled></td>
				</tr>
			   </table>
            </div>
            
			<div id="CFuture" class="tabcontent">
               <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>COMMODITY FUTURES BUY TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Buy Price</td>
				  <td>Break Even</td>
				  <td>Sell Price</td>
				</tr>
			    <tr>
				  <td><input id="cfbQ" type="number" onchange="calcCFB('cfb', 'cfs')"></td>
				  <td><input id="cfbBP" type="number" onchange="calcCFB('cfb', 'cfs')"></td>
				  <td><input id="cfbBE" type="number" disabled></td>
				  <td><input id="cfbSP" type="number" onchange="calcCFB('cfb', 'cfs')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="cfbINV" type="number" disabled></td>
				  <td><input id="cfbPL" type="number" disabled></td>
				  <td><input id="cfbTRN" type="number" disabled></td>
				  <td><input id="cfbROR" type="number" disabled></td>
				</tr>
			   </table>
			   <hr>
			   <table style="width:100%;text-align:left;">
			    <tr>
				  <td colspan=4 style="background-color:#dee2e6;"><b>COMMODITY FUTURES SELL TRADE</b></td>
				</tr>
				<tr>
				  <td>Quantity</td>
				  <td>Sell Price</td>
				  <td>Break Even</td>
				  <td>Buy Price</td>
				</tr>
			    <tr>
				  <td><input id="cfsQ" type="number" onchange="calcCFS('cfs', 'cfb')"></td>
				  <td><input id="cfsSP" type="number" onchange="calcCFS('cfs', 'cfb')"></td>
				  <td><input id="cfsBE" type="number" disabled></td>
				  <td><input id="cfsBP" type="number" onchange="calcCFS('cfs', 'cfb')"></td>
				</tr>
				<tr>
				  <td>Investment</td>
				  <td>P/L</td>
				  <td>Turnover</td>
				  <td>ROR</td>
				</tr>
				<tr>
				  <td><input id="cfsINV" type="number" disabled></td>
				  <td><input id="cfsPL" type="number" disabled></td>
				  <td><input id="cfsTRN" type="number" disabled></td>
				  <td><input id="cfsROR" type="number" disabled></td>
				</tr>
			   </table>
            </div>
			
			<hr>
			
			<table style="width:100%; text-align:left;">
			    <tr style="text-align:center;">
			       <td colspan="2" style="background-color:#dee2e6;">BUY</td>
				   <td colspan="2" style="background-color:#dee2e6;">SELL</td>
			    </tr>
				<tr>
			       <td style="width:25%">BRKG</td>
				   <td style="width:25%" id="bbkg">0.00</td>
				   <td style="width:25%">BRKG</td>
				   <td style="width:25%" id="sbkg">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">STT</td>
				   <td style="width:25%" id="bstt">0.00</td>
				   <td style="width:25%">STT</td>
				   <td style="width:25%" id="sstt">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">TXN</td>
				   <td style="width:25%" id="btxn">0.00</td>
				   <td style="width:25%">TXN</td>
				   <td style="width:25%" id="stxn">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">GST</td>
				   <td style="width:25%" id="bgst">0.00</td>
				   <td style="width:25%">GST</td>
				   <td style="width:25%" id="sgst">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">SEBI</td>
				   <td style="width:25%" id="bsebi">0.00</td>
				   <td style="width:25%">SEBI</td>
				   <td style="width:25%" id="ssebi">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">STAMP</td>
				   <td style="width:25%" id="bstamp">0.00</td>
				   <td style="width:25%">STAMP</td>
				   <td style="width:25%" id="sstamp">0.00</td>
			    </tr>
				<tr>
			       <td style="width:25%">DEMAT</td>
				   <td style="width:25%" id="bdemat">0.00</td>
				   <td style="width:25%">DEMAT</td>
				   <td style="width:25%" id="sdemat">0.00</td>
			    </tr>
			</table>
		
		</div>
	</body>
</html>
<script>
function openTab(evt, tabName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";
   document.getElementById("bbkg").innerText = 0.00;
   document.getElementById("bstt").innerText = 0.00;
   document.getElementById("btxn").innerText = 0.00;
   document.getElementById("bgst").innerText = 0.00;
   document.getElementById("bsebi").innerText = 0.00;
   document.getElementById("bstamp").innerText = 0.00;
   document.getElementById("bdemat").innerText = 0.00;
   document.getElementById("sbkg").innerText = 0.00;
   document.getElementById("sstt").innerText = 0.00;
   document.getElementById("stxn").innerText = 0.00;
   document.getElementById("sgst").innerText = 0.00;
   document.getElementById("ssebi").innerText = 0.00;
   document.getElementById("sstamp").innerText = 0.00;
   document.getElementById("sdemat").innerText = 0.00;
}

var charges = {
                cb:{brk:.150, stt:.100, txn:.00345, sebi:.0001, stamp:.015, demat:00, gst:18}, 
                cs:{brk:.150, stt:.100, txn:.00345, sebi:.0001, stamp:.000, demat:20, gst:18}, 
                mb:{brk:.015, stt:.000, txn:.00345, sebi:.0001, stamp:.003, demat:00, gst:18}, 
                ms:{brk:.015, stt:.025, txn:.00345, sebi:.0001, stamp:.000, demat:00, gst:18},
			   sfb:{brk:.015, stt:.000, txn:.00200, sebi:.0001, stamp:.002, demat:00, gst:18}, 
               sfs:{brk:.015, stt:.010, txn:.00200, sebi:.0001, stamp:.000, demat:00, gst:18}, 
			   cfb:{brk:20.0, stt:.000, txn:.00260, sebi:.0001, stamp:.002, demat:00, gst:18}, 
               cfs:{brk:20.0, stt:.010, txn:.00260, sebi:.0001, stamp:.000, demat:00, gst:18}, 
			}

function calcMBCBSFB(x, y){
   var cpA = document.getElementById(x+"Q").value*document.getElementById(x+"BP").value;
   var brkA = cpA*charges[x].brk/100;
   var brkgstA = brkA*charges[x].gst/100;
   var sttA = cpA*charges[x].stt/100;
   //var sttgstA = sttA*charges[x].gst/100;
   var sttgstA = 0.00;
   var txnA = cpA*charges[x].txn/100;
   var txngstA = txnA*charges[x].gst/100;
   var gstA = parseFloat(brkgstA) + parseFloat(sttgstA) + parseFloat(txngstA);
   var sebiA = cpA*charges[x].sebi/100;
   var stampA = cpA*charges[x].stamp/100;
   var dematA = charges[x].demat;
   var dematgstA = dematA*charges[x].gst/100;
   var cptotalA = cpA + brkA + brkgstA + sttA + sttgstA + txnA + txngstA + sebiA + stampA + dematA + dematgstA;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var betotal = ((cptotalA + dematB + dematgstB)*100)/(100 - charges[y].brk - charges[y].stt - charges[y].txn - charges[y].gst*(charges[y].brk + charges[y].txn)/100 - charges[y].sebi - charges[y].stamp);
   var be = betotal/document.getElementById(x+"Q").value;
   document.getElementById(x+"BE").value = parseFloat(be.toFixed(2));
   document.getElementById(x+"INV").value = parseFloat(cptotalA.toFixed(2));
   document.getElementById("bbkg").innerText = brkA.toFixed(2) + '|' + brkgstA.toFixed(2);
   document.getElementById("bstt").innerText = sttA.toFixed(2) + '|' + sttgstA.toFixed(2);
   document.getElementById("btxn").innerText = txnA.toFixed(2) + '|' + txngstA.toFixed(2);
   document.getElementById("bgst").innerText = gstA.toFixed(2);
   document.getElementById("bsebi").innerText = sebiA.toFixed(2);
   document.getElementById("bstamp").innerText = stampA.toFixed(2);
   document.getElementById("bdemat").innerText = dematA.toFixed(2) + '|' + dematgstA.toFixed(2);
   
   var cpB = document.getElementById(x+"Q").value*document.getElementById(x+"SP").value;
   var brkB = cpB*charges[y].brk/100;
   var brkgstB = brkB*charges[y].gst/100;
   var sttB = cpB*charges[y].stt/100;
   //var sttgstB = sttB*charges[y].gst/100;
   var sttgstB = 0.00;
   var txnB = cpB*charges[y].txn/100;
   var txngstB = txnB*charges[y].gst/100;
   var gstB = parseFloat(brkgstB) + parseFloat(sttgstB) + parseFloat(txngstB);
   var sebiB = cpB*charges[y].sebi/100;
   var stampB = cpB*charges[y].stamp/100;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var cptotalB = cpB - brkB - brkgstB - sttB - sttgstB - txnB - txngstB - sebiB - stampB - dematB - dematgstB;
   document.getElementById("sbkg").innerText = brkB.toFixed(2) + '|' + brkgstB.toFixed(2);
   document.getElementById("sstt").innerText = sttB.toFixed(2) + '|' + sttgstB.toFixed(2);
   document.getElementById("stxn").innerText = txnB.toFixed(2) + '|' + txngstB.toFixed(2);
   document.getElementById("sgst").innerText = gstB.toFixed(2);
   document.getElementById("ssebi").innerText = sebiB.toFixed(2);
   document.getElementById("sstamp").innerText = stampB.toFixed(2);
   document.getElementById("sdemat").innerText = dematB.toFixed(2) + '|' + dematgstB.toFixed(2);
   
   document.getElementById(x+"PL").value = (parseFloat(cptotalB.toFixed(2)) - parseFloat(cptotalA.toFixed(2))).toFixed(2);   
   
   if(x=='cb'){
      document.getElementById(x+"TRN").value = cpB.toFixed(2);
	  document.getElementById(x+"ROR").value = (document.getElementById(x+"PL").value*100/document.getElementById(x+"TRN").value).toFixed(2);
   }
   
   if(x=='mb' || x=='sfb'){
      document.getElementById(x+"TRN").value = (document.getElementById(x+"Q").value*(Math.abs(document.getElementById(x+"SP").value - document.getElementById(x+"BP").value))).toFixed(2);
	  document.getElementById(x+"ROR").value = (document.getElementById(x+"PL").value*100/document.getElementById(x+"TRN").value).toFixed(2);
   } 
   
}

function calcMSSFS(x, y){
   var cpA = document.getElementById(x+"Q").value*document.getElementById(x+"SP").value;
   var brkA = cpA*charges[x].brk/100;
   var brkgstA = brkA*charges[x].gst/100;
   var sttA = cpA*charges[x].stt/100;
   //var sttgstA = sttA*charges[x].gst/100;
   var sttgstA = 0.00;
   var txnA = cpA*charges[x].txn/100;
   var txngstA = txnA*charges[x].gst/100;
   var gstA = parseFloat(brkgstA) + parseFloat(sttgstA) + parseFloat(txngstA);
   var sebiA = cpA*charges[x].sebi/100;
   var stampA = cpA*charges[x].stamp/100;
   var dematA = charges[x].demat;
   var dematgstA = dematA*charges[x].gst/100;
   var cptotalA = cpA - brkA - brkgstA - sttA - sttgstA - txnA - txngstA - sebiA - stampA - dematA - dematgstA;
   
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var betotal = ((cptotalA - dematB - dematgstB)*100)/(100 + charges[y].brk + charges[y].stt + charges[y].txn + charges[y].gst*(charges[y].brk + charges[y].txn)/100 + charges[y].sebi + charges[y].stamp);
   var be = betotal/document.getElementById(x+"Q").value;
   document.getElementById(x+"BE").value = parseFloat(be.toFixed(2));
   document.getElementById(x+"INV").value = parseFloat(betotal.toFixed(2));
   document.getElementById("sbkg").innerText = brkA.toFixed(2) + '|' + brkgstA.toFixed(2);
   document.getElementById("sstt").innerText = sttA.toFixed(2) + '|' + sttgstA.toFixed(2);
   document.getElementById("stxn").innerText = txnA.toFixed(2) + '|' + txngstA.toFixed(2);
   document.getElementById("sgst").innerText = gstA.toFixed(2);
   document.getElementById("ssebi").innerText = sebiA.toFixed(2);
   document.getElementById("sstamp").innerText = stampA.toFixed(2);
   document.getElementById("sdemat").innerText = dematA.toFixed(2) + '|' + dematgstA.toFixed(2);
   
   var cpB = document.getElementById(x+"Q").value*document.getElementById(x+"BP").value;
   var brkB = cpB*charges[y].brk/100;
   var brkgstB = brkB*charges[y].gst/100;
   var sttB = cpB*charges[y].stt/100;
   //var sttgstB = sttB*charges[y].gst/100;
   var sttgstB = 0.00;
   var txnB = cpB*charges[y].txn/100;
   var txngstB = txnB*charges[y].gst/100;
   var gstB = parseFloat(brkgstB) + parseFloat(sttgstB) + parseFloat(txngstB);
   var sebiB = cpB*charges[y].sebi/100;
   var stampB = cpB*charges[y].stamp/100;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var cptotalB = cpB + brkB + brkgstB + sttB + sttgstB + txnB + txngstB + sebiB + stampB + dematB + dematgstB;
   document.getElementById("bbkg").innerText = brkB.toFixed(2) + '|' + brkgstB.toFixed(2);
   document.getElementById("bstt").innerText = sttB.toFixed(2) + '|' + sttgstB.toFixed(2);
   document.getElementById("btxn").innerText = txnB.toFixed(2) + '|' + txngstB.toFixed(2);
   document.getElementById("bgst").innerText = gstB.toFixed(2);
   document.getElementById("bsebi").innerText = sebiB.toFixed(2);
   document.getElementById("bstamp").innerText = stampB.toFixed(2);
   document.getElementById("bdemat").innerText = dematB.toFixed(2) + '|' + dematgstB.toFixed(2);
   
   document.getElementById(x+"PL").value = (parseFloat(cptotalA.toFixed(2)) - parseFloat(cptotalB.toFixed(2))).toFixed(2);  
   document.getElementById(x+"TRN").value = (document.getElementById(x+"Q").value*(Math.abs(document.getElementById(x+"SP").value - document.getElementById(x+"BP").value))).toFixed(2);
   document.getElementById(x+"ROR").value = (document.getElementById(x+"PL").value*100/document.getElementById(x+"TRN").value).toFixed(2);   
}

function calcCFB(x, y){
   var cpA = document.getElementById(x+"Q").value*document.getElementById(x+"BP").value;
   var brkA = charges[x].brk;
   var brkgstA = brkA*charges[x].gst/100;
   var sttA = cpA*charges[x].stt/100;
   //var sttgstA = sttA*charges[x].gst/100;
   var sttgstA = 0.00;
   var txnA = cpA*charges[x].txn/100;
   var txngstA = txnA*charges[x].gst/100;
   var gstA = parseFloat(brkgstA) + parseFloat(sttgstA) + parseFloat(txngstA);
   var sebiA = cpA*charges[x].sebi/100;
   var stampA = cpA*charges[x].stamp/100;
   var dematA = charges[x].demat;
   var dematgstA = dematA*charges[x].gst/100;
   var cptotalA = cpA + brkA + brkgstA + sttA + sttgstA + txnA + txngstA + sebiA + stampA + dematA + dematgstA;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;   
   var betotal = ((cptotalA + dematB + dematgstB + charges[y].sebi*cpA/100 + charges[y].stamp*cpA/100 + charges[y].brk*(1+charges[y].gst/100))/((10000 - charges[y].stt*100 - charges[y].txn*100 - charges[y].gst*charges[y].txn)/10000));
   var be = betotal/document.getElementById(x+"Q").value;
   document.getElementById(x+"BE").value = parseFloat(be.toFixed(2));
   document.getElementById(x+"INV").value = parseFloat(cptotalA.toFixed(2));
   document.getElementById("bbkg").innerText = brkA.toFixed(2) + '|' + brkgstA.toFixed(2);
   document.getElementById("bstt").innerText = sttA.toFixed(2) + '|' + sttgstA.toFixed(2);
   document.getElementById("btxn").innerText = txnA.toFixed(2) + '|' + txngstA.toFixed(2);
   document.getElementById("bgst").innerText = gstA.toFixed(2);
   document.getElementById("bsebi").innerText = sebiA.toFixed(2);
   document.getElementById("bstamp").innerText = stampA.toFixed(2);
   document.getElementById("bdemat").innerText = dematA.toFixed(2) + '|' + dematgstA.toFixed(2);

   var cpB = document.getElementById(x+"Q").value*document.getElementById(x+"SP").value;
   var brkB = charges[y].brk;
   var brkgstB = brkB*charges[y].gst/100;
   var sttB = cpB*charges[y].stt/100;
   //var sttgstB = sttB*charges[y].gst/100;
   var sttgstB = 0.00;
   var txnB = cpB*charges[y].txn/100;
   var txngstB = txnB*charges[y].gst/100;
   var gstB = parseFloat(brkgstB) + parseFloat(sttgstB) + parseFloat(txngstB);
   var sebiB = cpB*charges[y].sebi/100;
   var stampB = cpB*charges[y].stamp/100;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var cptotalB = cpB - brkB - brkgstB - sttB - sttgstB - txnB - txngstB - sebiB - stampB - dematB - dematgstB;
   document.getElementById("sbkg").innerText = brkB.toFixed(2) + '|' + brkgstB.toFixed(2);
   document.getElementById("sstt").innerText = sttB.toFixed(2) + '|' + sttgstB.toFixed(2);
   document.getElementById("stxn").innerText = txnB.toFixed(2) + '|' + txngstB.toFixed(2);
   document.getElementById("sgst").innerText = gstB.toFixed(2);
   document.getElementById("ssebi").innerText = sebiB.toFixed(2);
   document.getElementById("sstamp").innerText = stampB.toFixed(2);
   document.getElementById("sdemat").innerText = dematB.toFixed(2) + '|' + dematgstB.toFixed(2);
   
   document.getElementById(x+"PL").value = (parseFloat(cptotalB.toFixed(2)) - parseFloat(cptotalA.toFixed(2))).toFixed(2); 
   document.getElementById(x+"TRN").value = (document.getElementById(x+"Q").value*(Math.abs(document.getElementById(x+"SP").value - document.getElementById(x+"BP").value))).toFixed(2);
   document.getElementById(x+"ROR").value = (document.getElementById(x+"PL").value*100/document.getElementById(x+"TRN").value).toFixed(2);
}

function calcCFS(x, y){
   var cpA = document.getElementById(x+"Q").value*document.getElementById(x+"SP").value;
   var brkA = charges[x].brk;
   var brkgstA = brkA*charges[x].gst/100;
   var sttA = cpA*charges[x].stt/100;
   //var sttgstA = sttA*charges[x].gst/100;
   var sttgstA = 0.00;
   var txnA = cpA*charges[x].txn/100;
   var txngstA = txnA*charges[x].gst/100;
   var gstA = parseFloat(brkgstA) + parseFloat(sttgstA) + parseFloat(txngstA);
   var sebiA = cpA*charges[x].sebi/100;
   var stampA = cpA*charges[x].stamp/100;
   var dematA = charges[x].demat;
   var dematgstA = dematA*charges[x].gst/100;
   var cptotalA = cpA - brkA - brkgstA - sttA - sttgstA - txnA - txngstA - sebiA - stampA - dematA - dematgstA;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;  
   var betotal = ((cptotalA - dematB - dematgstB - charges[y].sebi*cpA/100 - charges[y].stamp*cpA/100 - charges[y].brk*(1+charges[y].gst/100))/((10000 + charges[y].stt*100 + charges[y].txn*100 + charges[y].gst*charges[y].txn)/10000));
   var be = betotal/document.getElementById(x+"Q").value;
   document.getElementById(x+"BE").value = parseFloat(be.toFixed(2));
   document.getElementById(x+"INV").value = parseFloat(cptotalA.toFixed(2));
   document.getElementById("sbkg").innerText = brkA.toFixed(2) + '|' + brkgstA.toFixed(2);
   document.getElementById("sstt").innerText = sttA.toFixed(2) + '|' + sttgstA.toFixed(2);
   document.getElementById("stxn").innerText = txnA.toFixed(2) + '|' + txngstA.toFixed(2);
   document.getElementById("sgst").innerText = gstA.toFixed(2);
   document.getElementById("ssebi").innerText = sebiA.toFixed(2);
   document.getElementById("sstamp").innerText = stampA.toFixed(2);
   document.getElementById("sdemat").innerText = dematA.toFixed(2) + '|' + dematgstA.toFixed(2);

   var cpB = document.getElementById(x+"Q").value*document.getElementById(x+"BP").value;
   var brkB = charges[y].brk;
   var brkgstB = brkB*charges[y].gst/100;
   var sttB = cpB*charges[y].stt/100;
   //var sttgstB = sttB*charges[y].gst/100;
   var sttgstB = 0.00;
   var txnB = cpB*charges[y].txn/100;
   var txngstB = txnB*charges[y].gst/100;
   var gstB = parseFloat(brkgstB) + parseFloat(sttgstB) + parseFloat(txngstB);
   var sebiB = cpB*charges[y].sebi/100;
   var stampB = cpB*charges[y].stamp/100;
   var dematB = charges[y].demat;
   var dematgstB = dematB*charges[y].gst/100;
   var cptotalB = cpB + brkB + brkgstB + sttB + sttgstB + txnB + txngstB + sebiB + stampB + dematB + dematgstB;
   document.getElementById("bbkg").innerText = brkB.toFixed(2) + '|' + brkgstB.toFixed(2);
   document.getElementById("bstt").innerText = sttB.toFixed(2) + '|' + sttgstB.toFixed(2);
   document.getElementById("btxn").innerText = txnB.toFixed(2) + '|' + txngstB.toFixed(2);
   document.getElementById("bgst").innerText = gstB.toFixed(2);
   document.getElementById("bsebi").innerText = sebiB.toFixed(2);
   document.getElementById("bstamp").innerText = stampB.toFixed(2);
   document.getElementById("bdemat").innerText = dematB.toFixed(2) + '|' + dematgstB.toFixed(2);
   
   document.getElementById(x+"PL").value = (parseFloat(cptotalA.toFixed(2)) - parseFloat(cptotalB.toFixed(2))).toFixed(2); 
   document.getElementById(x+"TRN").value = (document.getElementById(x+"Q").value*(Math.abs(document.getElementById(x+"SP").value - document.getElementById(x+"BP").value))).toFixed(2);
   document.getElementById(x+"ROR").value = (document.getElementById(x+"PL").value*100/document.getElementById(x+"TRN").value).toFixed(2);
}

document.getElementById('marginTab').click();
</script>
